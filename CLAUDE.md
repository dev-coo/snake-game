# Snake Battle 프로젝트 정보

## 프로젝트 개요
- **프로젝트명**: Snake Battle - 1:1 온라인 스네이크 게임
- **기술 스택**: React + TypeScript + Phaser 3 + Socket.io + Node.js
- **구조**: Monorepo (client, server, shared)
- **GitHub**: https://github.com/dev-coo/snake-game

## 현재 구현 상태 (2025-09-07)

### ✅ 완료된 기능
1. **프로젝트 구조 설정**
   - Monorepo 구조 (npm workspaces)
   - TypeScript, ESLint, Prettier 설정
   - Jest 테스트 환경 구성

2. **게임 엔진 구현**
   - Phaser 3 기반 게임 씬 구조
   - Snake, Food 엔티티 클래스 (100% 테스트 커버리지)
   - 충돌 감지 시스템 (벽, 자기 자신, 먹이)
   - 입력 처리 시스템 (WASD, 방향키)
   - 입력 큐잉 시스템 (빠른 입력 시 자기 충돌 방지)

3. **UI/UX 구현**
   - MainMenu: 시작 화면, 플레이어 이름 입력
   - GameContainer: Phaser-React 통합
   - GameUI: 실시간 점수, 시간 표시
   - GameOverModal: 게임 종료 화면, 사망 원인 표시
   - localStorage: 플레이어 이름 저장

4. **상태 관리**
   - Zustand 스토어 구성
   - 게임 상태, 플레이어 정보, 사망 원인 관리

### 🚧 진행 예정 작업

#### 1차 개발 (핵심 기능)
1. **서버 구축**
   - [ ] Express 서버 기본 설정
   - [ ] Socket.io 실시간 통신 설정
   - [ ] 룸 생성/참가 시스템
   - [ ] 게임 상태 동기화 로직
   - [ ] Redis 세션 관리

2. **멀티플레이어 기능**
   - [ ] 네트워크 서비스 클래스 구현
   - [ ] 서버-클라이언트 프로토콜 정의
   - [ ] 실시간 위치 동기화
   - [ ] 지연 보상 및 예측
   - [ ] 연결 끊김 처리

3. **게임 개선**
   - [ ] 점수 시스템 실제 연동
   - [ ] 게임 통계 수집 (먹은 먹이 수, 최대 길이 등)
   - [ ] 시간 제한 기능 구현
   - [ ] 음향 효과 추가

4. **배포 준비**
   - [ ] 환경 변수 설정
   - [ ] 프로덕션 빌드 최적화
   - [ ] Docker 컨테이너화
   - [ ] CI/CD 파이프라인

#### 2차 개발 (확장 기능)
1. **특수 아이템**
   - [ ] 황금 먹이, 속도 증가/감소, 무적 아이템
   - [ ] 아이템 효과 시각화
   - [ ] 배틀 모드 전용 기능

2. **매칭 시스템**
   - [ ] 자동 매칭 큐
   - [ ] 스킬 기반 매칭
   - [ ] 리더보드

3. **추가 기능**
   - [ ] 3-4인 대전 모드
   - [ ] 맵 테마 선택
   - [ ] 스네이크 스킨 커스터마이징
   - [ ] 관전 모드

## 주요 파일 구조
```
snake-game/
├── client/
│   ├── src/
│   │   ├── components/      # React UI 컴포넌트
│   │   ├── game/           # Phaser 게임 로직
│   │   │   ├── entities/   # Snake, Food 클래스
│   │   │   ├── scenes/     # GameScene
│   │   │   └── config/     # 게임 설정
│   │   └── store/          # Zustand 상태 관리
├── server/                 # Node.js 백엔드 (미구현)
├── shared/                 # 공유 타입 및 상수
└── docs/                   # 프로젝트 문서
```

## 해결된 이슈들
1. **UI 위치 버그**: fixed position 및 캔버스 크기 고정으로 해결
2. **벽 충돌 버그**: 초기 위치 조정 및 충돌 검사 타이밍 개선
3. **자기 충돌 버그**: 입력 큐잉 시스템으로 해결
4. **자동 화면 전환**: 사용자 선택 대기로 변경
5. **사망 원인 표시**: 벽/자신의 몸 구분하여 표시

## 개발 명령어
```bash
# 루트 폴더에서 실행
npm install              # 패키지 설치
npm run dev:client       # 클라이언트만 실행
npm run dev:server       # 서버만 실행 (미구현)
npm run dev             # 둘 다 실행
npm test                # 테스트 실행
npm run build           # 프로덕션 빌드
```

## 다음 작업 우선순위
1. **Express + Socket.io 서버 구축** (가장 중요)
2. **기본 멀티플레이어 기능 구현**
3. **게임 통계 및 점수 시스템 완성**
4. **네트워크 최적화**

## 참고사항
- 게임 속도: NORMAL = 150ms
- 맵 크기: 40x40 격자
- 캔버스 크기: 600x600px
- 시간 제한: 클래식 3분, 배틀 5분